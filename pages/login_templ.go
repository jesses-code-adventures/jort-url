// Code generated by templ - DO NOT EDIT.

// templ: version: v0.2.747
package pages

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import templruntime "github.com/a-h/templ/runtime"

func Login() templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString("<script type=\"text/javascript\">\n            let loginMode = false;\n            function setLoginMode() {\n                loginMode = true;\n\t\tupdateButtonText();\n\t\tupdateFormAction();\n            }\n            function setSignUpMode() {\n                loginMode = false;\n\t\tupdateButtonText();\n\t\tupdateFormAction();\n            }\n\t    function getButtonText() {\n\t\tif (loginMode) {\n\t\t    return \"Login\";\n\t\t} else {\n\t\t    return \"Sign Up\";\n\t\t}\n\t    }\n\t    function updateButtonText() {\n                document.getElementById(\"submitButton\").innerText = getButtonText();\n            }\n\t    function updateFormAction() {\n                const form = document.getElementById(\"authForm\");\n                if (loginMode) {\n                    form.action = \"/login\";\n                } else {\n                    form.action = \"/user\";\n                }\n            }\n\t    function handleFormSubmit(event) {\n                event.preventDefault();\n                const form = event.target;\n                const formData = new FormData(form);\n                const action = form.action;\n                const errorContainer = document.getElementById(\"errorContainer\");\n                fetch(action, {\n                    method: \"POST\",\n                    body: formData,\n                })\n                .then(response => {\n                    if (!response.ok) {\n                        return response.text().then(text => { throw new Error(text); });\n                    }\n                    return response.text();\n                })\n                .then(data => {\n                    // handle successful response\n                    console.log(\"Success:\", data);\n\t\t    window.location.href = \"/\";\n                })\n                .catch(error => {\n                    // display the error message\n\t\t    if (errorContainer === null) {\n\t\t\tconsole.error(error);\n\t\t\treturn;\n\t\t    }\n                    errorContainer.innerText = error.message;\n                    errorContainer.style.display = \"block\";\n                });\n            }\n            document.addEventListener(\"DOMContentLoaded\", function() {\n                updateButtonText();\n\t\tdocument.getElementById(\"authForm\").addEventListener(\"submit\", handleFormSubmit);\n            });\n        </script>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = Layout("login - jort url").Render(ctx, templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString("<div id=\"loginContainerContainer\" class=\"flex justify-center\"><div id=\"loginContainer\" class=\"flex flex-col rounded-md lg:w-3/5 lg:border-2 lg:border-black\"><div id=\"loginOrSignUpSelectorContainer\" class=\"flex justify-evenly border-b-2 border-b-black\"><button id=\"signUpSelector\" onclick=\"setSignUpMode()\" class=\"border-r-2 bg-gray-200 p-2 text-center text-xl\">Sign Up</button> <button id=\"loginSelector\" onclick=\"setLoginMode()\" class=\"bg-gray-200 p-2 text-center text-xl\">Log In</button></div><form id=\"authForm\" action=\"/user\" method=\"post\"><div id=\"usernameInputContainer\" class=\"flex flex-col\"><label for=\"username\">username</label> <input type=\"text\" name=\"username\" id=\"username\" class=\"rounded-md border-2 p-1\" required></div><div id=\"passwordInputContainer\" class=\"flex flex-col\"><label for=\"password\">password</label> <input type=\"password\" name=\"password\" id=\"password\" class=\"rounded-md border-2 p-1\" required></div><button type=\"submit\" id=\"submitButton\" class=\"rounded-md bg-blue-500 p-1 text-white\">Loading...</button></form></div></div>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return templ_7745c5c3_Err
	})
}
